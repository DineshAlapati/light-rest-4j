<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Swagger cli to bundle and validate specification files - Light Rest 4J</title>
    <meta name="generator" content="Hugo 0.20.6" />

    
    <meta name="description" content="Light Rest 4J Docs">
    
    <link rel="canonical" href="https://networknt.github.io/light-rest-4j/tool/swagger-cli/">
    
    <meta name="author" content="Steve Hu">
    

    <meta property="og:url" content="https://networknt.github.io/light-rest-4j/tool/swagger-cli/">
    <meta property="og:title" content="Light Rest 4J">
    <meta property="og:image" content="https://networknt.github.io/light-rest-4j/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Light Rest 4J">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://networknt.github.io/light-rest-4j/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://networknt.github.io/light-rest-4j/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://networknt.github.io/light-rest-4j/fonts/icon.eot');
        src: url('https://networknt.github.io/light-rest-4j/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://networknt.github.io/light-rest-4j/fonts/icon.woff')
               format('woff'),
             url('https://networknt.github.io/light-rest-4j/fonts/icon.ttf')
               format('truetype'),
             url('https://networknt.github.io/light-rest-4j/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://networknt.github.io/light-rest-4j/stylesheets/application.css">
    <link rel="stylesheet" href="https://networknt.github.io/light-rest-4j/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://networknt.github.io/light-rest-4j/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://networknt.github.io/light-rest-4j/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://networknt.github.io/light-rest-4j/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-red palette-accent-teal">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Swagger cli to bundle and validate specification files
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/stevehu" title="@stevehu on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/networknt/light-rest-4j" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://networknt.github.io/light-rest-4j/images/logo.png">
        </div>
      
      <div class="name">
        <strong>Light Rest 4J <span class="version">1.3.1</span></strong>
        
          <br>
          networknt/light-rest-4j
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/networknt/light-rest-4j/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/networknt/light-rest-4j/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Getting started" href="https://networknt.github.io/light-rest-4j/getting-started/">
	
	Getting started
</a>



  
</li>



<li>
  
    



<a  title="Architecture" href="https://networknt.github.io/light-rest-4j/architecture/">
	
	Architecture
</a>



  
</li>



<li>
  
    



<a  title="Design" href="https://networknt.github.io/light-rest-4j/design/">
	
	Design
</a>



  
</li>



<li>
  
    



<a  title="Middleware" href="https://networknt.github.io/light-rest-4j/middleware/">
	
	Middleware
</a>



  
</li>



<li>
  
    



<a  title="Other Component" href="https://networknt.github.io/light-rest-4j/other/">
	
	Other Component
</a>



  
</li>



<li>
  
    



<a  title="DevOps" href="https://networknt.github.io/light-rest-4j/devops/">
	
	DevOps
</a>



  
</li>



<li>
  
    



<a  title="Benchmark" href="https://networknt.github.io/light-rest-4j/benchmark/">
	
	Benchmark
</a>



  
</li>



<li>
  
    



<a  title="Tutorial" href="https://networknt.github.io/light-rest-4j/tutorial/">
	
	Tutorial
</a>



  
</li>



<li>
  
    



<a  title="Example" href="https://networknt.github.io/light-rest-4j/example/">
	
	Example
</a>



  
</li>



<li>
  
    



<a  title="Tool" href="https://networknt.github.io/light-rest-4j/tool/">
	
	Tool
</a>



  
</li>



<li>
  
    



<a  title="Issues &amp; Help" href="https://github.com/networknt/light-rest-4j/issues">
	
	Issues &amp; Help
</a>



  
</li>



<li>
  
    



<a  title="Roadmap" href="https://networknt.github.io/light-rest-4j/roadmap/">
	
	Roadmap
</a>



  
</li>



<li>
  
    



<a  title="License" href="https://www.apache.org/licenses/LICENSE-2.0">
	
	License
</a>



  
</li>



<li>
  
    



<a  title="Introduction" href="https://networknt.github.io/light-rest-4j/index.html">
	
	Introduction
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/stevehu" target="_blank" title="@stevehu on GitHub">
              @stevehu on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:stevehu@gmail.com" title="Email of stevehu@gmail.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Swagger cli to bundle and validate specification files </h1>

			

<p>Note: that you don&rsquo;t need this tool if your specification file is self contained yaml file in
swagger-editor. You can export into json format and it is validated already during the export
process.</p>

<h3 id="introduction">Introduction</h3>

<p>When editing swagger specification file, naturally we will be using yaml format as it is very
easy to read and manipulate. Also, we might extract common definitions into separate files
so that there is no duplications for multiple APIs. For the light-codegen, however, it requires
one single swagger.json as model input. To generate a single json formatted specification file,
we can use the Swagger 2.0 command-line tool.</p>

<ul>
<li>Supports multi-file APIs via $ref pointers</li>
<li>Validate Swagger 2.0 APIs in JSON or YAML format</li>
<li>Bundle multiple Swagger files into one combined Swagger file</li>
<li>Built-in HTTP server to serve your REST API</li>
</ul>

<h3 id="installation">Installation</h3>

<p>The tool can be found at the following location: <a href="https://www.npmjs.com/package/swagger-cli">swagger-cli</a></p>

<p>Install using npm:</p>

<pre><code class="language-shell">npm install -g swagger-cli
</code></pre>

<h3 id="general-usage">General Usage</h3>

<p>swagger <command> [options] <filename></p>

<p>Commands:
* validate: Validates a Swagger API against the Swagger 2.0 schema and spec
* bundle: Bundles a multi-file Swagger API into a single file
* serve: Serves a Swagger API via the built-in HTTP REST server</p>

<p>Options:
* -h, &ndash;help: Show help for any command
* -V, &ndash;version: Output the CLI version number
* -d, &ndash;debug [filter]: Show debug output, optionally filtered (ex.: &ldquo;<em>&rdquo;, &ldquo;swagger:</em>&rdquo;, etc.)</p>

<p>As we have a <a href="https://github.com/networknt/model-config">repo</a> of model and config for
<a href="https://github.com/networknt/light-codegen">light-codegen</a>. It would be easier to provide
an example based on our folder structure.</p>

<h4 id="command-line">Command line</h4>

<p>If you prefer to run the commands individually, please see the sequence listed below:</p>

<pre><code class="language-shell"># clone the model-config GIT repository
git clone git@github.com:networknt/model-config.git

# switch to the rest folder
cd model-config/rest

# switch to one of the API folders
# ex.: cd petstore
cd &lt;api name&gt;

#copy common definitions to the api folder
cp -r ../common .

# execute the bundling functionlity
swagger bundle -o swagger.json -r swagger.yaml

# validate the definition against the Open API spec
swagger validate swagger.json

# clean-up
rm -r common

# use the generated swagger.json file with the swagger-codegen project to generate server stubs
</code></pre>

<h4 id="script">Script</h4>

<p>The above command line steps are very easy to understand but it is not the most convenient
way to bundle and validate yaml files. Here is another way that leverage a script in
model-config/rest folder.</p>

<p>Note: the script assume that the common definition is defined in common folder and all API
specification are defined in a folder name as the API name.</p>

<h5 id="run-the-bundle-sh-script-to-bundle-and-validate">Run the bundle.sh script to bundle and validate</h5>

<pre><code class="language-shell"># clone the model-config repository
git clone git@github.com:networknt/model-config.git

# switch to the model-config/rest folder
cd model-config/rest

# run the bundle script
# ./bundle.sh &lt;api name&gt;
# ex.: ./bundle.sh petstore
./bundle.sh &lt;api name&gt;
</code></pre>


			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://networknt.github.io/light-rest-4j/tutorial/microservices/" title="Microservices">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Microservices
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://networknt.github.io/light-rest-4j/tool/swagger-editor/" title="Swagger Editor for OpenAPI Specification">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Swagger Editor for OpenAPI Specification
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/networknt.github.io\/light-rest-4j\/';
      var repo_id  = 'networknt\/light-rest-4j';
    
    </script>

    <script src="https://networknt.github.io/light-rest-4j/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

